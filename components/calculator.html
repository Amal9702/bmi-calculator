
<div class="rectangle"></div>

<div class="container">
    <img class="py-4"  src="assets/images/calc-icon.png"/>
            <div class="d-none d-md-block" style="height: 50px;"></div>
    <div class="row mb-4">
        <div class="col-lg-6 col-md-6 col-sm-12 px-4">
            
            <h1 class="text-dark fw-semibold">Body Mass<br>
                Index Calculator</h2>
            <p class="text-secondary fw-lighter">
                Better understand your weight in relation to your height using our body mass index (BM) calculator. While BMI is not the sole determinant of a healthy weight, it offers a valuable starting point to evaluate your overall health and well-being.
            </p>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 px-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                  <h6 class="text-dark fw-semibold mb-4">Enter your details below</h6>
                  <div class="row mb-4 ">
                        <div class="col-6">
                            <input class="form-check-input" type="radio" name="size_type" id="size_type1" value="Metric">
                            <label class="form-check-label" for="size_type1">Metric</label>
                        </div>
                        <div class="col-6 ">
                            <input class="form-check-input" type="radio" name="size_type" id="size_type2" value="Imperial">
                            <label class="form-check-label" for="size_type2">Imperial</label>
                        </div>
                  </div>
                  <div class="row mb-4">
                    <div class="col-6">
                        <label for="height" class="form-label">Height</label>
                        <div class="input-group">
                            <input type="number" min="0" name="height" class="form-control" id="height" >
                            <span class="input-group-text" id="heightUnit">cm</span>
                        </div>
                    </div>
                    <div class="col-6">
                        <label for="weight" class="form-label">Weight</label>
                        <div class="input-group">
                            <input type="number" min="0" name="weight" class="form-control" id="weight" >
                            <span class="input-group-text" id="weightUnit">kg</span>
                        </div>
                    </div>
                  </div>
                  <small id="error" class="text-danger fw-lighter"></small>
                  <div id="bmiResult" class="mt-3"></div>
                </div>
              </div>
        </div>
    </div>
    
</div>
<script>
function calculateBMI() {
    var height = $('#height').val();
    var weight = $('#weight').val();
    var unit = $('input[name="size_type"]:checked').val();

    if (unit === 'Imperial') {
        height = height * 2.54; // convert inches to cm
        weight = weight * 0.453592; // convert pounds to kg
    }

    
    if (height > 0 && weight > 0) {
        $('#error').html('');
        var heightInMeters = height / 100;
        var bmi = weight / (heightInMeters * heightInMeters);
        var bmiRounded = bmi.toFixed(2);
        var idealWeightMin = (18.5 * heightInMeters * heightInMeters).toFixed(1);
        var idealWeightMax = (24.9 * heightInMeters * heightInMeters).toFixed(1);
        $('#bmiResult').load('components/bmi_results.html', function() {
            var message;
            if (bmi < 18.5) {
                message = `Your BMI suggests you're underweight. Your ideal weight is between ${idealWeightMin}kgs - ${idealWeightMax}kgs.`;
            } else if (bmi >= 18.5 && bmi <= 24.9) {
                message = `Your BMI suggests you're a healthy weight. Your ideal weight is between ${idealWeightMin}kgs - ${idealWeightMax}kgs.`;
            } else if (bmi >= 25 && bmi <= 29.9) {
                message = `Your BMI suggests you're overweight. Your ideal weight is between ${idealWeightMin}kgs - ${idealWeightMax}kgs.`;
            } else {
                message = `Your BMI suggests you're obese. Your ideal weight is between ${idealWeightMin}kgs - ${idealWeightMax}kgs.`;
            }

            $('#bmiRounded').html(`${bmiRounded}`);
            $('#message').html(`${message}`);
        });
        

    } else {
        $('#bmiResult').empty();
        $('#error').html('Please enter valid height and weight');
    }
}
function updateUnits() {
    var unit = $('input[name="size_type"]:checked').val();
    if (unit === 'Imperial') {
        $('#heightUnit').text('in');
        $('#weightUnit').text('lbs');
    } else {
        $('#heightUnit').text('cm');
        $('#weightUnit').text('kg');
    }
}
$(document).ready(function() {

    $('#height, #weight').on('keyup change', function() {
        calculateBMI();
    });

    $('input[name="size_type"]').change(function() {
        updateUnits();
        calculateBMI();
    });
    
});
</script>